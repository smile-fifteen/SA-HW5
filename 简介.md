## 主要技术

PlayServer为spring mvcr

encoder为spring amqp/rabbitmq  使用事件驱动检测

UploadServer和encoder独立且集成, UploadServer向文件夹写, encoder进行监听完成通信



## 视频上传

前端: MyVedioLeading

后端: UploadServer encoder

### 上传部分

#### 前端

点击select可以选择本地文件(可多选)

标题默认是文件名双击可以修改,可以重复(后端会分配唯一av号)

点击图片可以选择封面,也可以不选择,后端会自动选择一帧作为封面

点击start上传

#### 后端

分别存放封面和视频以唯一av号命名,其余信息存在于数据库

主要信息包括唯一标识av,标题title,所属用户(保留扩展),封面图片类型,视频事件,视频清晰度等级

除标题均由后端自动检测生成

视频保留结构 raw存储用户上传原始视频, 转码器将获取清晰度等级并进行转码分别存放于其余三个文件夹(拷贝到原视频所属的清晰度文件夹并向低画质压缩)

转码器工作原理监听raw文件夹的变化,有文件生成则进行转码,删除则检测其余文件夹是否有同名 有则删除

## 查看部分

前端: MyVedioLeading

后端: PlayServer

可以获取视频信息并展示,点击对应可以打开新的播放页面,点×可以删除视频

## 视频播放

前端: player

后端: PlayServer

展开新页面有播放器可以进行播放

可以选择时间播放,调整声音,加载写入前端的弹幕,倍速播放, 根据视频清晰度提供清晰度选项
